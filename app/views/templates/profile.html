{% extends "base.html" %}

{% block links %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}"/>
{% endblock %}

{%  block content %}
<div id="parent">
    <div id="square">
        <div class="row" id="row1">
            <div class="column" id="row1-col1">
                <div id="profile-picture-container">
                    <img id="profile-picture" src="{{url_for('get_profile_picture', username=current_user.username)}}" onerror="this.onerror=null;this.src='static/images/profile.png';" /><br>
                    <form action="{{ url_for('post_profile_picture') }}" method="POST" enctype="multipart/form-data">
                      <label for="profile_picture"></label>
                      <input type="file" name="file" id="file" title="&nbsp;"><br/>
                      <input type="submit">
                        {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            {% for message in messages %}
                                <ul>
                                    {% for message in messages %}
                                        <li>{{ message }}</li>
                                    {% endfor %}
                                </ul><br>
                            {% endfor %}
                            </ul>
                        {% endif %}
                        {% endwith %}
                    </form>
                </div>
            </div>
            <div class="column" id="row1-col2">
                <h1 id ="name-h">{{current_user.username}}</h1>
                <a href="{{ url_for('remove_user', username=current_user.username)}}">Remove account</a>
                <h3>{{current_user.roles[0] if current_user.roles| length > 0}}</h3><br>

                <div id="user-info">
                    <h2 style="display: inline">First name</h2><p style="display: inline">{{current_user.first_name}}</p><br>
                    <h2 style="display: inline">Last name</h2><p style="display: inline">{{current_user.last_name}}</p><br>
                    <h2 style="display: inline">Username</h2><p style="display: inline">{{current_user.username}}</p><br>
                    <h2 style="display: inline">Email</h2><p style="display: inline">{{current_user.email}}</p><br>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
